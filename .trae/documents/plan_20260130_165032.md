# 移除冗余事件处理和代码优化方案

## 问题分析

当前的代码结构中存在以下冗余内容：

1. **事件处理逻辑**：
   - FormComponent.vue 中监听并转发 `region-selected` 事件
   - RightPanel.vue 中监听并转发 `region-selected` 事件
   - Step1.vue 中定义并触发 `region-selected` 事件

2. **MapComponent 暴露的方法**：
   - 这些方法在 MapManager 实例中都有对应实现
   - 现在直接通过 MapManager 单例通信，不再需要通过组件方法

## 优化方案

1. **移除 FormComponent.vue 中的事件处理**：
   - 移除 Step1 组件的 `@region-selected` 事件监听
   - 移除 `handleRegionSelected` 方法
   - 移除对应的 `emit` 定义

2. **移除 RightPanel.vue 中的事件处理**：
   - 移除 FormComponent 组件的 `@region-selected` 事件监听
   - 移除 `handleRegionSelected` 方法
   - 移除对应的 `emit` 定义

3. **优化 MapComponent.vue 的暴露接口**：
   - 只暴露 `mapManager` 实例
   - 移除对方法的单独暴露

4. **移除 Step1.vue 中的事件定义**：
   - 移除 `'region-selected'` 事件定义

## 技术实现要点

1. **保持功能完整性**：
   - 确保所有地图操作功能正常工作
   - 保持 MapManager 单例模式的通信方式

2. **代码清理**：
   - 移除所有未使用的事件处理逻辑
   - 简化组件间的通信结构

3. **向后兼容性**：
   - 确保修改不会影响其他功能
   - 保持必要的 API 接口

## 预期效果

- 代码更加简洁，移除了冗余的事件处理逻辑
- 组件间通信更加直接，通过 MapManager 单例模式
- 减少了事件传递的复杂性
- 提高了代码的可读性和维护性

## 实现步骤

1. 修改 FormComponent.vue，移除事件处理逻辑
2. 修改 RightPanel.vue，移除事件处理逻辑
3. 修改 MapComponent.vue，优化暴露接口
4. 修改 Step1.vue，移除事件定义
5. 运行诊断工具，确保代码没有错误
6. 测试功能是否正常工作
