# MapContainer导出实例方案

## 问题分析

用户反馈了一个错误：`mapManager.ts:75 Error initializing map: Error: Map container not found.`

错误发生的原因：
1. AddedDataList.vue 在组件挂载时就调用了 MapManager.getInstance('data-analyse-map')
2. 此时 MapContainer.vue 还没有渲染，所以 'data-analyse-map' 容器还不存在
3. MapManager 尝试在构造函数中初始化地图，但找不到容器

用户的解决方案：让 MapContainer 里面初始化导出实例，然后其他组件通过导入已经初始化好的实例的方式来处理。

## 优化方案

### 方案1：MapContainer导出初始化好的实例

1. **修改MapContainer.vue**：

   * 在组件挂载时初始化MapManager实例
   * 导出这个实例，让其他组件可以导入
   * 确保只有在容器存在时才初始化

2. **修改其他组件**：

   * SearchSection.vue：导入MapContainer导出的实例
   * AddedDataList.vue：导入MapContainer导出的实例
   * 不再直接调用MapManager.getInstance()

3. **修改MapManager.ts**：

   * 保持现有功能不变
   * 但确保只有在容器存在时才初始化地图

## 技术实现要点

1. **MapContainer修改**：
   - 在组件挂载时初始化MapManager实例
   - 导出初始化好的实例
   - 确保容器存在时才初始化

2. **其他组件修改**：
   - 导入MapContainer导出的实例
   - 使用导入的实例而不是直接调用MapManager.getInstance()

3. **功能保持**：
   - 确保所有功能正常工作
   - 避免容器不存在的错误

## 预期效果

- 解决Map container not found错误
- 其他组件可以使用已经初始化好的实例
- 代码结构更加清晰
- 功能更加稳定

## 实现步骤

1. 修改MapContainer.vue，导出初始化好的MapManager实例
2. 修改SearchSection.vue，导入并使用MapContainer导出的实例
3. 修改AddedDataList.vue，导入并使用MapContainer导出的实例
4. 测试功能是否正常工作
